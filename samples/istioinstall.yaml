#Pre-requisite: A Kubernetes cluster.
#Description: This design installs the Istio service mesh version 1.12.0 control plane in the `istio-system` namespace with default profile.
name: user
vars:
  control Plane Namespace: istio-system
  data Plane Namespace: default
  istio Version: 1.12.0
  profile: default
services:
  istioservicemesh:
    type: IstioMesh
    namespace:  $(#ref.vars.control Plane Namespace)
    version: $(#ref.vars.istio Version)
    settings:
      version: $(#ref.vars.istio Version) #Version from here has been deprecated and will be removed soon after
      profile: $(#ref.vars.profile)
    traits:
      automaticSidecarInjection:
        namespaces:
          - $(#ref.vars.data Plane Namespace)